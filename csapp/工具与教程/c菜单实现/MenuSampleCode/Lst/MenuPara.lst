C51 COMPILER V8.16   MENUPARA                                                              12/15/2008 14:30:10 PAGE 1   


C51 COMPILER V8.16, COMPILATION OF MODULE MENUPARA
OBJECT MODULE PLACED IN .\Obj\MenuPara.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE Src\MenuPara.C BROWSE DEBUG OBJECTEXTEND PRINT(.\Lst\MenuPara.lst) OBJECT(.
                    -\Obj\MenuPara.obj)

line level    source

   1          /******************************************************************************
   2           * MenuPara.C - "参数"菜单  菜单函数使用模版
   3           *
   4           *
   5           * DESCRIPTION: -
   6           *
   7           * modification history
   8           * --------------------
   9           * 01a, 04/sep/2007, 梁炎昌 written
  10           * --------------------
  11           ******************************************************************************/
  12          #include "CPU.H"
  13          #include "Ks0108.H"
  14          #include "Menu.H"
  15          
  16          
  17          //参数
  18          void DispMenuParaInit()
  19          {
  20   1      //----------------------
  21   1          GUI_Clear();
  22   1      //--------------------
  23   1          //切换Bar显示内容
  24   1      //---------------------
  25   1          BarMenu = &MenuPara[language];
  26   1          ItemNum = (*BarMenu).TextNum;
  27   1          DispItem = (*BarMenu).Text;
  28   1      
  29   1          //用户的初始化代码请放在这里
  30   1          //显示按键对应的文字提示,1-->"进入"
  31   1          GUI_DispStringAtBar(*(Tip[language].Text+1),0,Enter_PosY,126,GUI_TA_HCENTER);
  32   1          //公共初始化部分
  33   1          BarMenuInit();
  34   1      }
  35          
  36          /*
  37          *****************************************************************************
  38          菜单使用例程
  39          0.Jump2Menu + FlashMode_AutoInit/FlashMode_ManualInit
  40            跳转到任意菜单,FlashMode_AutoInit-->在BarMenuInit函数中执行PUSH;
  41            FlashMode_ManualInit-->子菜单的Init函数中PUSH,看例子:DispMenuLanguageInit
  42          1.PUSH + POP
  43            执行一些功能,并使用LCD后,回到原有界面,回到原有界面--包括反显位置都恢复
  44          2.Jump2Menu(SelfMenuIndex,FlashMode_ReFlash);
  45            执行一些功能,并使用LCD后,执行如上调用,回到原有界面--包括反显位置都恢复
  46          3.POP
  47            执行一些功能,并使用LCD后,回到上层菜单,恢复上层界面
  48          4.Jump2Menu(SelfMenuIndex,FlashMode_NoAction);
  49            执行一定功能后,但不占用LCD的话,直接界面不动
  50          
  51          *****************************************************************************
  52          */
  53          void DispMenuParaUp()
  54          {
C51 COMPILER V8.16   MENUPARA                                                              12/15/2008 14:30:10 PAGE 2   

  55   1          switch(Item){
  56   2              case 0:{//Jump2Menu
  57   3                  GUI_Clear();
  58   3                  GUI_DispStringAt("Do Something \nthen Back to \nTop Menu!",0,0);
  59   3                  GUI_Delay(4000);
  60   3                  Jump2Menu(MenuTopIndex,FlashMode_AutoInit);
  61   3                  break;
  62   3              }
  63   2              case 1:{//PUSH  -->POP
  64   3                  PUSH();
  65   3                  GUI_Clear();
  66   3                  GUI_DispStringAt("Do Something \nthen Back to \nThis Menu!",0,0);
  67   3                  GUI_Delay(4000);
  68   3                  POP();
  69   3                  break;
  70   3              }
  71   2              case 2:{//ReFlash = 1
  72   3                  GUI_Clear();
  73   3                  GUI_DispStringAt("Do Something \nthen Back to \nThis Menu!",0,0);
  74   3                  GUI_Delay(4000);
  75   3                  Jump2Menu(SelfMenuIndex,FlashMode_ReFlash);
  76   3                  break;
  77   3              }
  78   2              case 3:{//POP
  79   3                  GUI_Clear();
  80   3                  GUI_DispStringAt("Do Something \nthen Back to \nFather Menu!",0,0);
  81   3                  GUI_Delay(4000);
  82   3                  POP();
  83   3                  break;
  84   3              }
  85   2              case 4:{//No ReFlash
  86   3                  //No Action Here!
  87   3                  //Or The Action no need the LCD Disp
  88   3                  Jump2Menu(SelfMenuIndex,FlashMode_NoAction);
  89   3                  break;
  90   3              }
  91   2              default:{
  92   3                  Jump2Menu(SelfMenuIndex,FlashMode_NoAction);
  93   3                  return;
  94   3              }
  95   2          }
  96   1      }
  97          void DispMenuParaDown()
  98          {
  99   1          POP();
 100   1      }
 101          
 102          void DispMenuParaLeft()
 103          {
 104   1          BarMenuLeft();
 105   1      }
 106          void DispMenuParaRight()
 107          {
 108   1          BarMenuRight();
 109   1      }
 110          
 111          
 112          
 113          


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V8.16   MENUPARA                                                              12/15/2008 14:30:10 PAGE 3   

   CODE SIZE        =    235    ----
   CONSTANT SIZE    =    118    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
